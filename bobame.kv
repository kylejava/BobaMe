#:import Clipboard kivy.core.clipboard.Clipboard

WindowManager:
    OpenScreen:
    MainScreen:

<OpenScreen>:
    name: "OpenScreen"
    user_location:user_location
    GridLayout:
        cols:1
        GridLayout:
            cols:1
            GridLayout:
                cols:1
                Label:
                    font_name: './fonts/SR-BOLD.ttf'
                    font_size: 55
                    text: "BobaMe!"
                Label:
                    font_name: './fonts/SR.ttf'
                    font_size: 30
                    text: "Find New Boba Shops in your area by\nentering your zip code or your state and city!"
                    size: self.texture_size
                Label:
                    font_name: './fonts/SR.ttf'
                    font_size: 23
                    text: "(For more accurate results please input your zip code)"
                    size: self.texture_size
                TextInput:
                    id: user_location
                    font_name: './fonts/SR.ttf'
                    multiline: False
                    #size_hint: (.2, None)
                    size_hint_y: None
                    height: 100
                    font_size: self.height - 40
            Button:
                size_hint: 0.5,0.12
                background_color:(0 , 0, 0 ,0)
                size: self.texture_size
                background_normal:''
                font_size: 42
                font_name: './fonts/SR.ttf'
                back_color:(.7 , .8 , 1.0 , 1.0)
                border_radius:[30]
                canvas.before:
                    Color:
                        rgba: self.back_color
                    RoundedRectangle:
                        size: self.size
                        pos:self.pos
                        radius: self.border_radius

                text:"Search"
                on_press: app.root.current = 'InputScreen'
                on_press:
                    root.manager.transition.direction = "left"


<MainScreen>:
    name: "InputScreen"

    bobashop: bobashop
    bobalocation: bobalocation
    bobaphone: bobaphone
    bobareview: bobareview
    bobaimage: bobaimage

    AsyncImage:
        nocache: True
        id:bobaimage
        source: (str(root.bobaimage))
        opacity: 0.2
    GridLayout:
        cols:1

        Button:
            size_hint: 0.5,0.12
            background_color:(0 , 0, 0 ,0)
            background_normal:''
            font_size: 35
            font_name: './fonts/SR.ttf'
            back_color:(.7 , .8 , 1.0 , 1.0)
            border_radius:[25]
            canvas.before:
                Color:
                    rgba: self.back_color
                RoundedRectangle:
                    size: self.size
                    pos:self.pos
                    radius: self.border_radius

            font_name: './fonts/SR.ttf'
            text: "Back to HomeScreen"
            on_press:
                app.root.current = 'OpenScreen'
            size_hint: 0.5,0.12
            on_press:
                root.manager.transition.direction = "right"

        GridLayout:
            cols:2
            GridLayout:

                cols:1
                Label:
                    font_name: './fonts/SR.ttf'
                    font_size: 30
                    id: bobashop
                    text: " "

                Label:
                    font_name: './fonts/SR.ttf'
                    font_size: 30
                    id: bobalocation
                    text: " "
                Label:
                    font_name: './fonts/SR.ttf'
                    font_size: 30
                    id: bobaphone
                    text: " "

                Label:

                    font_name: './fonts/SR.ttf'
                    font_size: 30
                    id: bobareview
                    text: " "





        GridLayout:
            cols:3
            size_hint: 0.5,0.12
            Button:
                size_hint: 0.5,0.12
                background_color:(0 , 0, 0 ,0)
                background_normal:''
                font_size: 30
                font_name: './fonts/SR.ttf'
                back_color:(.7 , .8 , 1.0 , 1.0)
                border_radius:[35]
                canvas.before:
                    Color:
                        rgba: self.back_color
                    RoundedRectangle:
                        size: self.size
                        pos:self.pos
                        radius: self.border_radius

                text: "Go Back"
                size_hint: 0.5, 0.12
                on_release: root.subSearch()

            Button:

                text: "Take Me There!"
                size_hint: 0.7,0.22
                background_color:(0 , 0, 0 ,0)
                background_normal:''
                font_size: 30
                font_name: './fonts/SR.ttf'
                back_color:(.7 , .8 , 1.0 , 1.0)

                border_radius:[35]
                canvas.before:
                    Color:
                        rgba: self.back_color
                    RoundedRectangle:
                        size: self.size
                        pos:self.pos
                        radius: self.border_radius

                on_press: root.directions()

            Button:
                size_hint: 0.5,0.12
                background_color:(0 , 0, 0 ,0)
                background_normal:''
                font_size: 30
                font_name: './fonts/SR.ttf'
                back_color:(.7 , .8 , 1.0 , 1.0)
                border_radius:[35]
                canvas.before:
                    Color:
                        rgba: self.back_color
                    RoundedRectangle:
                        size: self.size
                        pos:self.pos
                        radius: self.border_radius

                text: "More"
                size_hint: 0.5, 0.12
                on_release: root.addSearch()
